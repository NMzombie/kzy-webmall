<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Test1</title>
</head>

<body>
  <input type="text" id="t1" onBlur="maxCheck()" value="0">
  <br>
  <input type="text" id="t2" value="0">
  <button onclick="compute()">计算</button>
</body>
<script>
  var maxUp = document.getElementById("t1")
  var content = document.getElementById("t2")
  var attr = []
  const maxCheck = () => {//上限
    maxUp = document.getElementById("t1")
    if (!checkInt(maxUp.value)) {
      alert("预算上限为正整数");
      return false
    }
  }
  const compute = () => {//计算价格
    var total = 0, newsarr = []
    content = document.getElementById("t2")
    content = content.value.replace(/(^\s*)/g, "")
    dataList = content.split(" ")
    for (var i = 0; i < dataList.length; i++) {
        if (dataList[i] * 1 < 10000) {
          total += dataList[i] * 1
          if (!(total < maxUp.value * 1)) {
            return false
          }
        }
    }
    alert('计算结果为：'+total)
  }
  const checkInt = str => {
    var re = /^[0-9]+$/
    return re.test(str)
  };
</script>

</html>
